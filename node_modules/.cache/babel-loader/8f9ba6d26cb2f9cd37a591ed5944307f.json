{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// api/axiosClient.js\nimport axios from\"axios\";import queryString from\"query-string\";import Cookies from\"universal-cookie\";require('dotenv').config();var baseURL=process.env.REACT_APP_API_URL;// Set up default config for http requests here\n// Please have a look at here `https://github.com/axios/axios#requestconfig` for the full list of configs\nvar axiosClient=axios.create({baseURL:'https://asm3-be-4qtm.onrender.com/',headers:{\"content-type\":\"application/json\"},paramsSerializer:function paramsSerializer(params){return queryString.stringify(params);},withCredentials:true});axiosClient.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(config){var cookies,accessToken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cookies=new Cookies();accessToken=cookies.get(\"accessToken\");if(accessToken){config.headers[\"authorization\"]=\"Bearer \"+accessToken;}return _context.abrupt(\"return\",config);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());axiosClient.interceptors.response.use(function(response){if(response&&response.data){return response;}return response;},function(error){// Handle errors\nthrow error;});export default axiosClient;","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/API/axiosClient.jsx"],"names":["axios","queryString","Cookies","require","config","baseURL","process","env","REACT_APP_API_URL","axiosClient","create","headers","paramsSerializer","params","stringify","withCredentials","interceptors","request","use","cookies","accessToken","get","response","data","error"],"mappings":"yWAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,GAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B,CACA;AACA;AACA,GAAMC,CAAAA,WAAW,CAAGT,KAAK,CAACU,MAAN,CAAa,CAC/BL,OAAO,CAAE,oCADsB,CAE/BM,OAAO,CAAE,CACP,eAAgB,kBADT,CAFsB,CAK/BC,gBAAgB,CAAE,0BAACC,MAAD,QAAYZ,CAAAA,WAAW,CAACa,SAAZ,CAAsBD,MAAtB,CAAZ,EALa,CAM/BE,eAAe,CAAE,IANc,CAAb,CAApB,CASAN,WAAW,CAACO,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,0FAAqC,iBAAOd,MAAP,0IAC7Be,OAD6B,CACnB,GAAIjB,CAAAA,OAAJ,EADmB,CAE7BkB,WAF6B,CAEfD,OAAO,CAACE,GAAR,CAAY,aAAZ,CAFe,CAInC,GAAID,WAAJ,CAAiB,CACfhB,MAAM,CAACO,OAAP,CAAe,eAAf,EAAkC,UAAYS,WAA9C,CACD,CANkC,gCAQ5BhB,MAR4B,wDAArC,gEAUAK,WAAW,CAACO,YAAZ,CAAyBM,QAAzB,CAAkCJ,GAAlC,CACE,SAACI,QAAD,CAAc,CACZ,GAAIA,QAAQ,EAAIA,QAAQ,CAACC,IAAzB,CAA+B,CAC7B,MAAOD,CAAAA,QAAP,CACD,CACD,MAAOA,CAAAA,QAAP,CACD,CANH,CAOE,SAACE,KAAD,CAAW,CACT;AACA,KAAMA,CAAAA,KAAN,CACD,CAVH,EAYA,cAAef,CAAAA,WAAf","sourcesContent":["// api/axiosClient.js\nimport axios from \"axios\";\nimport queryString from \"query-string\";\nimport Cookies from \"universal-cookie\";\nrequire('dotenv').config();\n\nconst baseURL = process.env.REACT_APP_API_URL;\n// Set up default config for http requests here\n// Please have a look at here `https://github.com/axios/axios#requestconfig` for the full list of configs\nconst axiosClient = axios.create({\n  baseURL: 'https://asm3-be-4qtm.onrender.com/',\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n  paramsSerializer: (params) => queryString.stringify(params),\n  withCredentials: true,\n});\n\naxiosClient.interceptors.request.use(async (config) => {\n  const cookies = new Cookies();\n  const accessToken = cookies.get(\"accessToken\");\n\n  if (accessToken) {\n    config.headers[\"authorization\"] = \"Bearer \" + accessToken;\n  }\n\n  return config;\n});\naxiosClient.interceptors.response.use(\n  (response) => {\n    if (response && response.data) {\n      return response;\n    }\n    return response;\n  },\n  (error) => {\n    // Handle errors\n    throw error;\n  }\n);\nexport default axiosClient;\n"]},"metadata":{},"sourceType":"module"}