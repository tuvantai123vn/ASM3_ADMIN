{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// api/axiosClient.js\nimport axios from\"axios\";import queryString from\"query-string\";import Cookies from\"universal-cookie\";// Set up default config for http requests here\n// Please have a look at here `https://github.com/axios/axios#requestconfig` for the full list of configs\nvar axiosClient=axios.create({baseURL:'https://asm3-be-4qtm.onrender.com/',headers:{\"content-type\":\"application/json\"},paramsSerializer:function paramsSerializer(params){return queryString.stringify(params);},withCredentials:true});axiosClient.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(config){var cookies,accessToken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cookies=new Cookies();accessToken=cookies.get(\"accessToken\");if(accessToken){config.headers[\"authorization\"]=\"Bearer \"+accessToken;}return _context.abrupt(\"return\",config);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());axiosClient.interceptors.response.use(function(response){if(response&&response.data){return response;}return response;},function(error){// Handle errors\nthrow error;});export default axiosClient;","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/API/axiosClient.jsx"],"names":["axios","queryString","Cookies","axiosClient","create","baseURL","headers","paramsSerializer","params","stringify","withCredentials","interceptors","request","use","config","cookies","accessToken","get","response","data","error"],"mappings":"yWAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA;AACA;AACA,GAAMC,CAAAA,WAAW,CAAGH,KAAK,CAACI,MAAN,CAAa,CAC/BC,OAAO,CAAE,oCADsB,CAE/BC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFsB,CAK/BC,gBAAgB,CAAE,0BAACC,MAAD,QAAYP,CAAAA,WAAW,CAACQ,SAAZ,CAAsBD,MAAtB,CAAZ,EALa,CAM/BE,eAAe,CAAE,IANc,CAAb,CAApB,CASAP,WAAW,CAACQ,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,0FAAqC,iBAAOC,MAAP,0IAC7BC,OAD6B,CACnB,GAAIb,CAAAA,OAAJ,EADmB,CAE7Bc,WAF6B,CAEfD,OAAO,CAACE,GAAR,CAAY,aAAZ,CAFe,CAInC,GAAID,WAAJ,CAAiB,CACfF,MAAM,CAACR,OAAP,CAAe,eAAf,EAAkC,UAAYU,WAA9C,CACD,CANkC,gCAQ5BF,MAR4B,wDAArC,gEAUAX,WAAW,CAACQ,YAAZ,CAAyBO,QAAzB,CAAkCL,GAAlC,CACE,SAACK,QAAD,CAAc,CACZ,GAAIA,QAAQ,EAAIA,QAAQ,CAACC,IAAzB,CAA+B,CAC7B,MAAOD,CAAAA,QAAP,CACD,CACD,MAAOA,CAAAA,QAAP,CACD,CANH,CAOE,SAACE,KAAD,CAAW,CACT;AACA,KAAMA,CAAAA,KAAN,CACD,CAVH,EAYA,cAAejB,CAAAA,WAAf","sourcesContent":["// api/axiosClient.js\nimport axios from \"axios\";\nimport queryString from \"query-string\";\nimport Cookies from \"universal-cookie\";\n\n// Set up default config for http requests here\n// Please have a look at here `https://github.com/axios/axios#requestconfig` for the full list of configs\nconst axiosClient = axios.create({\n  baseURL: 'https://asm3-be-4qtm.onrender.com/',\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n  paramsSerializer: (params) => queryString.stringify(params),\n  withCredentials: true,\n});\n\naxiosClient.interceptors.request.use(async (config) => {\n  const cookies = new Cookies();\n  const accessToken = cookies.get(\"accessToken\");\n\n  if (accessToken) {\n    config.headers[\"authorization\"] = \"Bearer \" + accessToken;\n  }\n\n  return config;\n});\naxiosClient.interceptors.response.use(\n  (response) => {\n    if (response && response.data) {\n      return response;\n    }\n    return response;\n  },\n  (error) => {\n    // Handle errors\n    throw error;\n  }\n);\nexport default axiosClient;\n"]},"metadata":{},"sourceType":"module"}