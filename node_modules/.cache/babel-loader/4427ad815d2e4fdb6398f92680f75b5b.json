{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ProductAPI from\"../API/ProductAPI\";import{useParams}from\"react-router-dom\";var Update=function Update(){var _useState=useState({name:\"\",category:\"\",shortDescription:\"\",longDescription:\"\",price:\"\"}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,productData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ProductAPI.getDetail(id);case 3:response=_context.sent;productData=response.data;console.log(productData);setProduct({name:productData.name,category:productData.category,shortDescription:productData.short_desc,longDescription:productData.long_desc,price:productData.price});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id]);var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var formData,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;formData=new FormData();formData.append(\"id\",id);formData.append(\"name\",product.name);formData.append(\"category\",product.category);formData.append(\"short_desc\",product.shortDescription);formData.append(\"long_desc\",product.longDescription);formData.append(\"price\",product.price);_context2.next=11;return ProductAPI.update(formData);case 11:response=_context2.sent;console.log(response);_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[1,15]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"page-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-breadcrumb\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{style:{width:\"50%\",marginLeft:\"40px\"},onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Product Name\",name:\"name\",value:product.name,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Category\",name:\"category\",value:product.category,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Short Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"3\",placeholder:\"Enter Short Description\",name:\"shortDescription\",value:product.shortDescription,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Long Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"6\",placeholder:\"Enter Long Description\",name:\"longDescription\",value:product.longDescription,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Enter Price\",name:\"price\",value:product.price,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"})]})})})});};export default Update;","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/update/update.jsx"],"names":["React","useState","useEffect","ProductAPI","useParams","Update","name","category","shortDescription","longDescription","price","product","setProduct","id","fetchData","getDetail","response","productData","data","console","log","short_desc","long_desc","error","handleInputChange","e","target","value","handleSubmit","event","preventDefault","formData","FormData","append","update","width","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { useParams } from \"react-router-dom\";\n\nconst Update = () => {\n  const [product, setProduct] = useState({\n    name: \"\",\n    category: \"\",\n    shortDescription: \"\",\n    longDescription: \"\",\n    price: \"\",\n  });\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await ProductAPI.getDetail(id);\n        const productData = response.data;\n        console.log(productData);\n        setProduct({\n          name: productData.name,\n          category: productData.category,\n          shortDescription: productData.short_desc,\n          longDescription: productData.long_desc,\n          price: productData.price,\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchData();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setProduct({ ...product, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append(\"id\", id);\n      formData.append(\"name\", product.name);\n      formData.append(\"category\", product.category);\n      formData.append(\"short_desc\", product.shortDescription);\n      formData.append(\"long_desc\", product.longDescription);\n      formData.append(\"price\", product.price);\n\n      const response = await ProductAPI.update(formData);\n      console.log(response);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"page-wrapper\">\n      <div className=\"page-breadcrumb\">\n        <div className=\"row\">\n          <form\n            style={{ width: \"50%\", marginLeft: \"40px\" }}\n            onSubmit={handleSubmit}\n            encType=\"multipart/form-data\"\n          >\n            <div className=\"form-group\">\n              <label>Product Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter Product Name\"\n                name=\"name\"\n                value={product.name}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Category</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter Category\"\n                name=\"category\"\n                value={product.category}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Short Description</label>\n              <textarea\n                className=\"form-control\"\n                rows=\"3\"\n                placeholder=\"Enter Short Description\"\n                name=\"shortDescription\"\n                value={product.shortDescription}\n                onChange={handleInputChange}\n              ></textarea>\n            </div>\n            <div className=\"form-group\">\n              <label>Long Description</label>\n              <textarea\n                className=\"form-control\"\n                rows=\"6\"\n                placeholder=\"Enter Long Description\"\n                name=\"longDescription\"\n                value={product.longDescription}\n                onChange={handleInputChange}\n              ></textarea>\n            </div>\n            <div className=\"form-group\">\n              <label>Price</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                placeholder=\"Enter Price\"\n                name=\"price\"\n                value={product.price}\n                onChange={handleInputChange}\n              />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Update\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Update;\n"]},"metadata":{},"sourceType":"module"}