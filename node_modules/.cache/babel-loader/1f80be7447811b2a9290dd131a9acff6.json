{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";import Chat from\"./Chat/Chat\";import Header from\"./Header/Header\";import History from\"./History/History\";import Home from\"./Home/Home\";import Menu from\"./Menu/Menu\";import Products from\"./Products/Products\";import Users from\"./Users/Users\";import NewProduct from\"./New/NewProduct\";import Update from\"./update/update\";import{useEffect,useState}from\"react\";import Login from\"./Login/Login\";import jwt_decode from\"jwt-decode\";import Cookies from\"universal-cookie\";import ProtectedRoute from\"./ProtectedRoute\";function App(){var cookies=new Cookies();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var token=cookies.get(\"accessToken\");var decodedToken=token?jwt_decode(token):{};var role=decodedToken.role;useEffect(function(){if(token){setLogin(true);}},[token]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"main-wrapper\",\"data-theme\":\"light\",\"data-layout\":\"vertical\",\"data-navbarbg\":\"skin6\",\"data-sidebartype\":\"full\",\"data-sidebar-position\":\"fixed\",\"data-header-position\":\"fixed\",\"data-boxed-layout\":\"full\",children:[/*#__PURE__*/_jsx(Header,{user:decodedToken}),/*#__PURE__*/_jsx(Menu,{login:login}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",component:Login}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/chat\",component:Chat,roles:[\"admin\",\"customer\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/home\",component:Home,roles:[\"admin\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/users\",component:Users,roles:[\"admin\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/products\",component:Products,roles:[\"admin\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/history\",component:History,roles:[\"admin\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/new\",component:NewProduct,roles:[\"admin\"],role:role}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/products/view-edit/:id\",component:Update,roles:[\"admin\"],role:role})]})]})})});}export default App;","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/App.jsx"],"names":["BrowserRouter","Route","Switch","Chat","Header","History","Home","Menu","Products","Users","NewProduct","Update","useEffect","useState","Login","jwt_decode","Cookies","ProtectedRoute","App","cookies","login","setLogin","token","get","decodedToken","role"],"mappings":"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","sourcesContent":["import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Chat from \"./Chat/Chat\";\r\nimport Header from \"./Header/Header\";\r\nimport History from \"./History/History\";\r\nimport Home from \"./Home/Home\";\r\nimport Menu from \"./Menu/Menu\";\r\nimport Products from \"./Products/Products\";\r\nimport Users from \"./Users/Users\";\r\nimport NewProduct from \"./New/NewProduct\";\r\nimport Update from \"./update/update\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Cookies from \"universal-cookie\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\nfunction App() {\r\n  const cookies = new Cookies();\r\n  const [login, setLogin] = useState(false);\r\n  const token = cookies.get(\"accessToken\");\r\n  const decodedToken = token ? jwt_decode(token) : {};\r\n  const { role } = decodedToken;\r\n  useEffect(() => {\r\n    if (token) {\r\n      setLogin(true);\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <div\r\n          id=\"main-wrapper\"\r\n          data-theme=\"light\"\r\n          data-layout=\"vertical\"\r\n          data-navbarbg=\"skin6\"\r\n          data-sidebartype=\"full\"\r\n          data-sidebar-position=\"fixed\"\r\n          data-header-position=\"fixed\"\r\n          data-boxed-layout=\"full\"\r\n        >\r\n          <Header user = {decodedToken}/>\r\n          <Menu login = {login}/>\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            <ProtectedRoute\r\n              path=\"/chat\"\r\n              component={Chat}\r\n              roles={[\"admin\", \"customer\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/home\"\r\n              component={Home}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/users\"\r\n              component={Users}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/products\"\r\n              component={Products}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/history\"\r\n              component={History}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/new\"\r\n              component={NewProduct}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n            <ProtectedRoute\r\n              path=\"/products/view-edit/:id\"\r\n              component={Update}\r\n              roles={[\"admin\"]}\r\n              role={role}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}